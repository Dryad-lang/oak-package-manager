#!/bin/bash

# Comandos Ãºteis do Docker Compose para Dryad Package Manager
echo "ğŸ³ Comandos Docker Compose - Dryad Package Manager"
echo "=================================================="

echo ""
echo "ğŸ“‹ Comandos principais:"
echo ""
echo "ğŸš€ Iniciar todos os serviÃ§os:"
echo "   docker-compose up -d"
echo ""
echo "â¹ï¸  Parar todos os serviÃ§os:"
echo "   docker-compose down"
echo ""
echo "ğŸ—‘ï¸  Parar e remover volumes (limpar dados):"
echo "   docker-compose down -v"
echo ""
echo "ğŸ“Š Ver status dos containers:"
echo "   docker-compose ps"
echo ""
echo "ğŸ“ Ver logs em tempo real:"
echo "   docker-compose logs -f"
echo ""
echo "ğŸ“ Ver logs de um serviÃ§o especÃ­fico:"
echo "   docker-compose logs -f laravel"
echo "   docker-compose logs -f forgejo"
echo "   docker-compose logs -f mariadb"
echo ""
echo "ğŸ”„ Reiniciar um serviÃ§o:"
echo "   docker-compose restart laravel"
echo ""
echo "ğŸ”§ Reconstruir imagens:"
echo "   docker-compose build"
echo "   docker-compose up --build -d"
echo ""
echo "ğŸ’» Executar comandos dentro de um container:"
echo "   docker-compose exec laravel bash"
echo "   docker-compose exec laravel php artisan migrate"
echo ""
echo "ğŸŒ URLs dos serviÃ§os:"
echo "   - Laravel:  http://localhost:7800"
echo "   - Forgejo:  http://localhost:7850"
echo "   - MariaDB:  localhost:7832"
echo ""

# Se nenhum argumento for passado, mostrar o status
if [ $# -eq 0 ]; then
    echo "ğŸ“¦ Status atual dos containers:"
    docker-compose ps
    echo ""
    echo "ğŸ’¡ Use './docker-help.sh <comando>' para executar diretamente"
    echo "   Exemplo: ./docker-help.sh up -d"
else
    echo "ğŸš€ Executando: docker-compose $@"
    docker-compose "$@"
fi